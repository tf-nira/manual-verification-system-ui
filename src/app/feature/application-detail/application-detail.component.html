<div class="container">
  <!-- Header Section -->
  <app-header [role]="role"></app-header>

  <div class="layout">
    <!-- Left Section -->
    <div class="left-section" [class.collapsed]="isLeftCollapsed">
      <div class="section-header">
        <h3>Navigation</h3>
        <button class="toggle-btn" (click)="toggleLeft()">
          <i class="fas fa-toggle-on"></i>
        </button>
      </div>
      <div class="navigation-content">
        <div class="info-item">
          <span class="label">ID</span>
          <span class="value">{{ applicationId || 'N/A' }}</span>
        </div>
        <div class="info-item">
          <span class="label">Status</span>
          <span class="value">{{'Pending' }}</span>
        </div>
        <div class="info-item">
          <span class="label">Service</span>
          <span class="value">{{ service || 'By Birth' }}</span>
        </div>
        <div class="info-item">
          <span class="label">Service Type</span>
          <span class="value">{{ serviceType || 'Section ABC' }}</span>
        </div>
      </div>
      <!-- <div class="navigation-content">
        <div class="info-item" *ngFor="let section of sections">
          <button class="nav-button" (click)="scrollToSection(section.id)">
            {{ section.label }}
          </button>
        </div>
      </div> -->
      <div class="navigation-content">
        <div *ngFor="let section of sections" class="accordion">
          <div class="accordion-header" (click)="toggleRightSection(section.id)">
            <span class="section-title">{{ section.label }}</span>
          </div>
          <div class="accordion-content" *ngIf="section.open">
            <div *ngFor="let subSection of section.subSections" class="subsection-item">
              <span class="subsection-title" (click)="scrollToSection(subSection.id)">
                {{ subSection.label }}
              </span>
            </div>
          </div>
        </div>
      </div>



    </div>



    <!-- Middle Section -->

    <div class="middle-section">
      <div id="personal-info-section" class="section" *ngIf="hasSectionData([
      'fullName', 'surname', 'givenName', 'otherNames', 'maidenName', 'previousName',
      'dateOfBirth', 'gender', 'phone', 'email', 'applicantLivingStatus', 'CountryCode',
      'homePhoneNumber', 'highestLevelOfEducation', 'profession', 'occupation',
      'religion', 'disabilities', 'userServiceType', 'userService', 'IDSchemaVersion',
      'cardNumber', 'UIN', 'NIN', 'preferredLang', 'selectedHandles', 'NINVerified',
      'updatedAt', 'renewalNIN', 'nextOfKinPhoneNumber', 'ninExpiryDate', 'applicantNationality',
      'applicantOtherNationality', 'citizenshipCertificateNo', 'foundLink'
    ])">
        <h3>Personal Information</h3>
        <div class="personal-information">

          <div class="form-group" *ngIf="rowData?.demographics?.fullName">
            <label>Fullname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fullName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.surname">
            <label>Surname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.surname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.givenName">
            <label>Givenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.givenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.otherNames">
            <label>Othernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.otherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.maidenName">
            <label>Maidenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.maidenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.previousName">
            <label>Previousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.previousName)[0]?.value }}</div>
          </div>
          <div class="form-group" *ngIf="rowData?.demographics?.dateOfBirth">
            <label>Dateofbirth</label>
            <div class="field-container">{{ rowData?.demographics?.dateOfBirth }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.gender">
            <label>Gender</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.gender)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.phone">
            <label>Phone</label>
            <div class="field-container">{{rowData?.demographics?.phone }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.email">
            <label>Email</label>
            <div class="field-container">{{ rowData?.demographics?.email }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantLivingStatus">
            <label>Applicantlivingstatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantLivingStatus)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.CountryCode">
            <label>Countrycode</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.CountryCode)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.homePhoneNumber">
            <label>Homephonenumber</label>
            <div class="field-container">{{ rowData?.demographics?.homePhoneNumber }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.highestLevelOfEducation">
            <label>Highestlevelofeducation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.highestLevelOfEducation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.profession">
            <label>Profession</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.profession)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.occupation">
            <label>Occupation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.occupation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.religion">
            <label>Religion</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.religion)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.disabilities">
            <label>Disabilities</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.disabilities)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.userServiceType">
            <label>Userservicetype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.userServiceType )[0]?.value}}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.userService">
            <label>Userservice</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.userService)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.cardNumber">
            <label>Cardnumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.cardNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.UIN">
            <label>Uin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.UIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.NIN">
            <label>Nin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.NIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.preferredLang">
            <label>Preferredlang</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.preferredLang)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.selectedHandles">
            <label>Selectedhandles</label>
            <div class="field-container">{{rowData?.demographics?.selectedHandles }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.NINVerified">
            <label>Ninverified</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.NINVerified)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.updatedAt">
            <label>Updatedat</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.updatedAt)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.renewalNIN">
            <label>Renewalnin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.renewalNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.nextOfKinPhoneNumber">
            <label>Nextofkinphonenumber</label>
            <div class="field-container">{{rowData?.demographics?.nextOfKinPhoneNumber}}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.ninExpiryDate">
            <label>Ninexpirydate</label>
            <div class="field-container">{{ rowData?.demographics?.ninExpiryDate }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantNationality">
            <label>Applicantnationality</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantNationality)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantOtherNationality">
            <label>Applicantothernationality</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantOtherNationality)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.citizenshipCertificateNo">
            <label>Citizenshipcertificateno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.citizenshipCertificateNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.foundLink">
            <label>Foundlink</label>
            <div class="field-container">{{ rowData?.demographics?.foundLink}}</div>
          </div>

        </div>
      </div>


      <div id="place-of-residence-section" class="section" *ngIf="hasSectionData([
      'residenceStatus', 'applicantPlaceOfResidence', 'applicantForeignResidenceCountry',
      'applicantForeignResidenceAddress', 'appResCountryUGA', 'applicantPlaceOfResidenceCounty',
      'applicantPlaceOfResidenceSubCounty', 'applicantPlaceOfResidenceParish',
      'applicantPlaceOfResidenceVillage', 'applicantPlaceOfResidenceStreet',
      'applicantPlaceOfResidenceYearsLived', 'applicantPlaceOfResidenceDistrictOfPrevRes',
      'applicantPlaceOfResidencePostalAddress', 'applicantPlaceOfResidenceHouseNo',
      'applicantPlaceOfResidenceDistrict'
    ])">

        <h3>Place Of Residence</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.residenceStatus">
            <label>Residencestatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.residenceStatus)[0]?.value }}</div>
          </div>
          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidence">
            <label>Applicantplaceofresidence</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidence)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignResidenceCountry">
            <label>Applicantforeignresidencecountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignResidenceCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignResidenceAddress">
            <label>Applicantforeignresidenceaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignResidenceAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.appResCountryUGA">
            <label>Apprescountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.appResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceCounty">
            <label>Applicantplaceofresidencecounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceSubCounty">
            <label>Applicantplaceofresidencesubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceParish">
            <label>Applicantplaceofresidenceparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceVillage">
            <label>Applicantplaceofresidencevillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceStreet">
            <label>Applicantplaceofresidencestreet</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceStreet)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceYearsLived">
            <label>Applicantplaceofresidenceyearslived</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceYearsLived)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceDistrictOfPrevRes">
            <label>Applicantplaceofresidencedistrictofprevres</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceDistrictOfPrevRes)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidencePostalAddress">
            <label>Applicantplaceofresidencepostaladdress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidencePostalAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceHouseNo">
            <label>Applicantplaceofresidencehouseno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceHouseNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceDistrict">
            <label>Applicantplaceofresidencedistrict</label>
            <div class="field-container">{{
              parseJson(rowData?.demographics?.applicantPlaceOfResidenceDistrict)[0]?.value
              }}</div>
          </div>
        </div>
      </div>

      <div id="place-of-birth-section" class="section" *ngIf="hasSectionData([
      'applicantForeignBirthCountry', 'applicantForeignBirthAddress', 'appBirCountryUGA',
      'applicantPlaceOfBirthDistrict', 'applicantPlaceOfBirthCounty',
      'applicantPlaceOfBirthSubCounty', 'applicantPlaceOfBirthParish',
      'applicantPlaceOfBirthVillage', 'applicantPlaceOfBirthCity'
    ])">
        <h3>Place Of Birth</h3>
        <div class="personal-information">

          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignBirthCountry">
            <label>Applicantforeignbirthcountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignBirthCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignBirthAddress">
            <label>Applicantforeignbirthaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignBirthAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.appBirCountryUGA">
            <label>Appbircountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.appBirCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthDistrict">
            <label>Applicantplaceofbirthdistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthCounty">
            <label>Applicantplaceofbirthcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthSubCounty">
            <label>Applicantplaceofbirthsubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthParish">
            <label>Applicantplaceofbirthparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthVillage">
            <label>Applicantplaceofbirthvillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfBirthCity">
            <label>Applicantplaceofbirthcity</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthCity)[0]?.value }}</div>
          </div>

        </div>
      </div>

      <div id="place-of-origin-section" class="section" *ngIf="hasSectionData([
      'applicantForeignOriginCountry', 'applicantForeignOriginAddress', 'appOriCountryUGA',
      'applicantPlaceOfOriginDistrict', 'applicantPlaceOfOriginCounty',
      'applicantPlaceOfOriginSubCounty', 'applicantPlaceOfOriginParish',
      'applicantPlaceOfOriginVillage', 'applicantPlaceOfOriginIndigenousCommunityTribe',
      'applicantPlaceOfOriginClan'
    ])">

        <h3>Place of Origin</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignOriginCountry">
            <label>Applicantforeignorigincountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignOriginCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantForeignOriginAddress">
            <label>Applicantforeignoriginaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantForeignOriginAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.appOriCountryUGA">
            <label>Apporicountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.appOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginDistrict">
            <label>Applicantplaceoforigindistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginCounty">
            <label>Applicantplaceoforigincounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginSubCounty">
            <label>Applicantplaceoforiginsubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginParish">
            <label>Applicantplaceoforiginparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginVillage">
            <label>Applicantplaceoforiginvillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginIndigenousCommunityTribe">
            <label>Applicantplaceoforiginindigenouscommunitytribe</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginIndigenousCommunityTribe)[0]?.value }}
            </div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPlaceOfOriginClan">
            <label>Applicantplaceoforiginclan</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginClan)[0]?.value }}</div>
          </div>
        </div>

      </div>


      <div id="citizenship-details-section" class="section"
        *ngIf="hasSectionData(['applicantPassportNumber', 'applicantPassportFileNumber'])">

        <h3>Citizenship Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.applicantPassportNumber">
            <label>Applicantpassportnumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPassportNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.applicantPassportFileNumber">
            <label>Applicantpassportfilenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.applicantPassportFileNumber)[0]?.value }}</div>
          </div>

        </div>
      </div>

      <div id="voter-info-section" class="section" *ngIf="hasSectionData( [
      'preferredPollingStation', 'pollingStationNameResidence', 'pollingStationNameOrigin'
    ])">

        <h3>Voters Information</h3>
        <div class="personal-information">

          <div class="form-group" *ngIf="rowData?.demographics?.preferredPollingStation">
            <label>Preferredpollingstation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.preferredPollingStation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.pollingStationNameResidence">
            <label>Pollingstationnameresidence</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.pollingStationNameResidence)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.pollingStationNameOrigin">
            <label>Pollingstationnameorigin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.pollingStationNameOrigin)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="marital-status-section" class="section" *ngIf="hasSectionData(['maritalStatus'])">

        <h3>Marital Status</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.maritalStatus">
            <label>Maritalstatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.maritalStatus)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="spouse-details-section" class="section" *ngIf="hasSectionData(['spouseSurname', 
      'spouseGivenName', 'spouseOtherNames', 'spouseMaidenName', 'spousePreviousName', 'spouseNIN', 
      'spouseCitizenshipType', 'spousePlaceOfMarriage', 'spouseDateOfMarriage', 'spouseTypeOfMarriage', 
      'spouseMarriageCertificateNumber', 'numberOfOtherSpouses', 
      'spouseTwoSurname', 'spouseTwoGivenName', 'spouseTwoOtherNames', 'spouseTwoPreviousName', 'spouseTwoNIN', 
      'spouseTwoCitizenshipType', 'spouseTwoPlaceOfMarriage', 'spouseTwoDateOfMarriage', 'spouseTwoTypeOfMarriage', 
      'spouseTwoMarriageCertificateNumber', 'spouseThreeSurname',
       'spouseThreeGivenName', 'spouseThreeOtherNames', 'spouseThreeMaidenName', 'spouseThreePreviousName', 'spouseThreeNIN',
        'spouseThreeCitizenshipType', 
       'spouseThreePlaceOfMarriage', 'spouseThreeDateOfMarriage', 'spouseThreeTypeOfMarriage', 
       'spouseThreeMarriageCertificateNumber'])">

        <h3>Spouse Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.spouseSurname">
            <label>Spousesurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseGivenName">
            <label>Spousegivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseOtherNames">
            <label>Spouseothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseMaidenName">
            <label>Spousemaidenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseMaidenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spousePreviousName">
            <label>Spousepreviousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spousePreviousName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseNIN">
            <label>Spousenin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseCitizenshipType">
            <label>Spousecitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spousePlaceOfMarriage">
            <label>Spouseplaceofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spousePlaceOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseDateOfMarriage">
            <label>Spousedateofmarriage</label>
            <div class="field-container">{{ rowData?.demographics?.spouseDateOfMarriage }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTypeOfMarriage">
            <label>Spousetypeofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTypeOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseMarriageCertificateNumber">
            <label>Spousemarriagecertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseMarriageCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.numberOfOtherSpouses">
            <label>Numberofotherspouses</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.numberOfOtherSpouses)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoSurname">
            <label>Spousetwosurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoGivenName">
            <label>Spousetwogivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoOtherNames">
            <label>Spousetwoothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoPreviousName">
            <label>Spousetwopreviousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoPreviousName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoNIN">
            <label>Spousetwonin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoCitizenshipType">
            <label>Spousetwocitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoPlaceOfMarriage">
            <label>Spousetwoplaceofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoPlaceOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoDateOfMarriage">
            <label>Spousetwodateofmarriage</label>
            <div class="field-container">{{ rowData?.demographics?.spouseTwoDateOfMarriage }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoTypeOfMarriage">
            <label>Spousetwotypeofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoTypeOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseTwoMarriageCertificateNumber">
            <label>Spousetwomarriagecertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseTwoMarriageCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeSurname">
            <label>Spousethreesurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeGivenName">
            <label>Spousethreegivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeOtherNames">
            <label>Spousethreeothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeMaidenName">
            <label>Spousethreemaidenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeMaidenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreePreviousName">
            <label>Spousethreepreviousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreePreviousName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeNIN">
            <label>Spousethreenin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeCitizenshipType">
            <label>Spousethreecitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreePlaceOfMarriage">
            <label>Spousethreeplaceofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreePlaceOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeDateOfMarriage">
            <label>Spousethreedateofmarriage</label>
            <div class="field-container">{{ rowData?.demographics?.spouseThreeDateOfMarriage }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeTypeOfMarriage">
            <label>Spousethreetypeofmarriage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeTypeOfMarriage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.spouseThreeMarriageCertificateNumber">
            <label>Spousethreemarriagecertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.spouseThreeMarriageCertificateNumber)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="father-details-section" class="section" *ngIf="hasSectionData( [
      'fatherLivingStatus', 'fatherSurname', 'fatherGivenName', 'fatherOtherNames',
      'fatherPreviousName', 'fatherNIN', 'fatherUIN', 'fatherIDDocumentNo', 'fatherCitizenshipType',
      'fatherCitizenCertificateNumber', 'fatherIndigenousCommunityTribe', 'fatherIndigenousCommunityClan',
      'fatherOccupation', 'fatherForeignResidenceCountry', 'fatherForeignResidenceAddress',
      'fatherPostalAddress', 'fatResCountryUGA', 'fatherPlaceOfResidenceDistrict',
      'fatherPlaceOfResidenceCounty', 'fatherPlaceOfResidenceSubCounty', 'fatherPlaceOfResidenceParish',
      'fatherPlaceOfResidenceVillage', 'fatherPlaceOfResidenceStreet', 'fatherPlaceOfResidenceHouseNo',
      'fatherForeignOriginCountry', 'fatherForeignOriginAddress', 'fatOriCountryUGA',
      'fatherPlaceOfOriginDistrict', 'fatherPlaceOfOriginCounty', 'fatherPlaceOfOriginSubCounty',
      'fatherPlaceOfOriginParish', 'fatherPlaceOfOriginVillage'
    ])">
        >
        <h3>Father's Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.fatherLivingStatus">
            <label>Fatherlivingstatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherLivingStatus)[0]?.value }}</div>
          </div>


          <div class="form-group" *ngIf="rowData?.demographics?.fatherSurname">
            <label>Fathersurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherGivenName">
            <label>Fathergivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherOtherNames">
            <label>Fatherothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPreviousName">
            <label>Fatherpreviousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPreviousName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherNIN">
            <label>Fathernin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherUIN">
            <label>Fatheruin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherUIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherIDDocumentNo">
            <label>Fatheriddocumentno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherIDDocumentNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherCitizenshipType">
            <label>Fathercitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherCitizenCertificateNumber">
            <label>Fathercitizencertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherCitizenCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherIndigenousCommunityTribe">
            <label>Fatherindigenouscommunitytribe</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherIndigenousCommunityTribe)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherIndigenousCommunityClan">
            <label>Fatherindigenouscommunityclan</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherIndigenousCommunityClan)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherOccupation">
            <label>Fatheroccupation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherOccupation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherForeignResidenceCountry">
            <label>Fatherforeignresidencecountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherForeignResidenceCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherForeignResidenceAddress">
            <label>Fatherforeignresidenceaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherForeignResidenceAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPostalAddress">
            <label>Fatherpostaladdress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPostalAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatResCountryUGA">
            <label>Fatrescountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceDistrict">
            <label>Fatherplaceofresidencedistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceCounty">
            <label>Fatherplaceofresidencecounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceSubCounty">
            <label>Fatherplaceofresidencesubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceParish">
            <label>Fatherplaceofresidenceparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceVillage">
            <label>Fatherplaceofresidencevillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceStreet">
            <label>Fatherplaceofresidencestreet</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceStreet)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceHouseNo">
            <label>Fatherplaceofresidencehouseno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceHouseNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherForeignOriginCountry">
            <label>Fatherforeignorigincountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherForeignOriginCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherForeignOriginAddress">
            <label>Fatherforeignoriginaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherForeignOriginAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatOriCountryUGA">
            <label>Fatoricountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfOriginDistrict">
            <label>Fatherplaceoforigindistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfOriginCounty">
            <label>Fatherplaceoforigincounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfOriginSubCounty">
            <label>Fatherplaceoforiginsubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfOriginParish">
            <label>Fatherplaceoforiginparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.fatherPlaceOfOriginVillage">
            <label>Fatherplaceoforiginvillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginVillage)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="mother-details-section" class="section" *ngIf="hasSectionData([
      'motherLivingStatus', 'motherSurname', 'motherGivenName', 'motherOtherNames',
      'motherPreviousName', 'motherMaidenName', 'motherNIN', 'motherIDDocumentNo',
      'motherCitizenshipType', 'motherCitizenCertificateNumber', 'motherIndigenousCommunityTribe',
      'motherIndigenousCommunityClan', 'motherOccupation', 'motherForeignResidenceCountry',
      'motherForeignResidenceAddress', 'motherPostalAddress', 'motResCountryUGA',
      'motherPlaceOfResidenceDistrict', 'motherPlaceOfResidenceCounty', 'motherPlaceOfResidenceSubCounty',
      'motherPlaceOfResidenceParish', 'motherPlaceOfResidenceVillage', 'motherPlaceOfResidenceStreet',
      'motherPlaceOfResidenceHouseNo', 'motherForeignOriginCountry', 'motherForeignOriginAddress',
      'motOriCountryUGA', 'motherPlaceOfOriginDistrict', 'motherPlaceOfOriginCounty',
      'motherPlaceOfOriginSubCounty', 'motherPlaceOfOriginParish', 'motherPlaceOfOriginVillage'
    ])">

        <h3>Mother's Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.motherLivingStatus">
            <label>Motherlivingstatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherLivingStatus)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherSurname">
            <label>Mothersurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherGivenName">
            <label>Mothergivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherOtherNames">
            <label>Motherothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPreviousName">
            <label>Motherpreviousname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPreviousName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherMaidenName">
            <label>Mothermaidenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherMaidenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherNIN">
            <label>Mothernin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherIDDocumentNo">
            <label>Motheriddocumentno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherIDDocumentNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherCitizenshipType">
            <label>Mothercitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherCitizenCertificateNumber">
            <label>Mothercitizencertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherCitizenCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherIndigenousCommunityTribe">
            <label>Motherindigenouscommunitytribe</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherIndigenousCommunityTribe)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherIndigenousCommunityClan">
            <label>Motherindigenouscommunityclan</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherIndigenousCommunityClan)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherOccupation">
            <label>Motheroccupation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherOccupation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherForeignResidenceCountry">
            <label>Motherforeignresidencecountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherForeignResidenceCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherForeignResidenceAddress">
            <label>Motherforeignresidenceaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherForeignResidenceAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPostalAddress">
            <label>Motherpostaladdress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPostalAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motResCountryUGA">
            <label>Motrescountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceDistrict">
            <label>Motherplaceofresidencedistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceCounty">
            <label>Motherplaceofresidencecounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceSubCounty">
            <label>Motherplaceofresidencesubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceParish">
            <label>Motherplaceofresidenceparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceVillage">
            <label>Motherplaceofresidencevillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceStreet">
            <label>Motherplaceofresidencestreet</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceStreet)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfResidenceHouseNo">
            <label>Motherplaceofresidencehouseno</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceHouseNo)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherForeignOriginCountry">
            <label>Motherforeignorigincountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherForeignOriginCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherForeignOriginAddress">
            <label>Motherforeignoriginaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherForeignOriginAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motOriCountryUGA">
            <label>Motoricountryuga</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfOriginDistrict">
            <label>Motherplaceoforigindistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfOriginCounty">
            <label>Motherplaceoforigincounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfOriginSubCounty">
            <label>Motherplaceoforiginsubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfOriginParish">
            <label>Motherplaceoforiginparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.motherPlaceOfOriginVillage">
            <label>Motherplaceoforiginvillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginVillage)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="intoducer-details-section" class="section" *ngIf="hasSectionData( [
      'guardianRelationToApplicant', 'guardianSurname', 'guardianGivenName', 'guardianOtherNames',
      'guardianOccupation', 'guardianNIN_AIN', 'guardianIDDocumentnumber', 'guardianPassportNumber',
      'guardianTribe', 'guardianClan', 'guardianCitizenshipType', 'guardianCitizenshipCertificateNumber',
      'guardianOtherNationality', 'guardianForeignOriginCountry', 'guardianForeignOriginAddress',
      'guardiansCountry', 'guardianResidenceDistrict', 'guardianResidenceCounty',
      'guardianResidenceSubCounty', 'guardianResidenceParish', 'guardianResidenceVillage',
      'guardianResidenceStreet', 'guardianResidence', 'guardianDateOfBirth'
    ])">

        <h3>Blood Relative's/Introducer Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.guardianRelationToApplicant">
            <label>Guardianrelationtoapplicant</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianRelationToApplicant)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianSurname">
            <label>Guardiansurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianGivenName">
            <label>Guardiangivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianGivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianOtherNames">
            <label>Guardianothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianOtherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianOccupation">
            <label>Guardianoccupation</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianOccupation)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianNIN_AIN">
            <label>Guardiannin Ain</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianNIN_AIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianIDDocumentnumber">
            <label>Guardianiddocumentnumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianIDDocumentnumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianPassportNumber">
            <label>Guardianpassportnumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianPassportNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianTribe">
            <label>Guardiantribe</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianTribe)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianClan">
            <label>Guardianclan</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianClan)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianCitizenshipType">
            <label>Guardiancitizenshiptype</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianCitizenshipCertificateNumber">
            <label>Guardiancitizenshipcertificatenumber</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianCitizenshipCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianOtherNationality">
            <label>Guardianothernationality</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianOtherNationality)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianForeignOriginCountry">
            <label>Guardianforeignorigincountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianForeignOriginCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianForeignOriginAddress">
            <label>Guardianforeignoriginaddress</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianForeignOriginAddress)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardiansCountry">
            <label>Guardianscountry</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardiansCountry)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceDistrict">
            <label>Guardianresidencedistrict</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceDistrict)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceCounty">
            <label>Guardianresidencecounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceSubCounty">
            <label>Guardianresidencesubcounty</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceSubCounty)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceParish">
            <label>Guardianresidenceparish</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceParish)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceVillage">
            <label>Guardianresidencevillage</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceVillage)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidenceStreet">
            <label>Guardianresidencestreet</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidenceStreet)[0]?.value }}</div>
          </div>


          <div class="form-group" *ngIf="rowData?.demographics?.guardianResidence">
            <label>Guardianresidence</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.guardianResidence)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.guardianDateOfBirth">
            <label>Guardiandateofbirth</label>
            <div class="field-container">{{ rowData?.demographics?.guardianDateOfBirth }}</div>
          </div>
        </div>
      </div>

      <div id="children-details-section" class="section" *ngIf="hasSectionData([
      'childName', 'childSex', 'childDateOfBirth', 'childTwoName', 'childTwoSex',
      'childTwoDateOfBirth', 'childThreeName', 'childThreeSex', 'childThreeDateOfBirth',
      'childFourName', 'childFourSex', 'childFourDateOfBirth', 'childFiveName',
      'childFiveSex', 'childFiveDateOfBirth'
    ])">

        <h3>Particulars of Applicant’s Children</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.childName">
            <label>Childname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childSex">
            <label>Childsex</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childSex)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childDateOfBirth">
            <label>Childdateofbirth</label>
            <div class="field-container">{{rowData?.demographics?.childDateOfBirth }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childTwoName">
            <label>Childtwoname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childTwoName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childTwoSex">
            <label>Childtwosex</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childTwoSex)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childTwoDateOfBirth">
            <label>Childtwodateofbirth</label>
            <div class="field-container">{{ rowData?.demographics?.childTwoDateOfBirth }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childThreeName">
            <label>Childthreename</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childThreeName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childThreeSex">
            <label>Childthreesex</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childThreeSex)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childThreeDateOfBirth">
            <label>Childthreedateofbirth</label>
            <div class="field-container">{{rowData?.demographics?.childThreeDateOfBirth }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFourName">
            <label>Childfourname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childFourName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFourSex">
            <label>Childfoursex</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childFourSex)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFourDateOfBirth">
            <label>Childfourdateofbirth</label>
            <div class="field-container">{{ rowData?.demographics?.childFourDateOfBirth }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFiveName">
            <label>Childfivename</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childFiveName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFiveSex">
            <label>Childfivesex</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.childFiveSex)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.childFiveDateOfBirth">
            <label>Childfivedateofbirth</label>
            <div class="field-container">{{rowData?.demographics?.childFiveDateOfBirth }}</div>
          </div>
        </div>
      </div>

      <div id="declarant-details-section" class="section" *ngIf="hasSectionData([
      'declarant', 'declarantSurname', 'declarantgivenName', 'declarantotherNames',
      'declarantPreviousNames', 'declarantMaidenName', 'declarantGender', 'declarantNationality',
      'declarantResidenceStatus', 'introducerNIN', 'relationToApplicant', 'PRN'
    ])">

        <h3>Declarant's Details</h3>
        <div class="personal-information">
          <div class="form-group" *ngIf="rowData?.demographics?.declarant">
            <label>Declarant</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarant)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantSurname">
            <label>Declarantsurname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantSurname)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantgivenName">
            <label>Declarantgivenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantgivenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantotherNames">
            <label>Declarantothernames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantotherNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantPreviousNames">
            <label>Declarantpreviousnames</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantPreviousNames)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantMaidenName">
            <label>Declarantmaidenname</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantMaidenName)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantGender">
            <label>Declarantgender</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantGender)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantNationality">
            <label>Declarantnationality</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantNationality)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.declarantResidenceStatus">
            <label>Declarantresidencestatus</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.declarantResidenceStatus)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.introducerNIN">
            <label>Introducernin</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.introducerNIN)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.relationToApplicant">
            <label>Relationtoapplicant</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.relationToApplicant)[0]?.value }}</div>
          </div>

          <div class="form-group" *ngIf="rowData?.demographics?.PRN">
            <label>Prn</label>
            <div class="field-container">{{ parseJson(rowData?.demographics?.PRN)[0]?.value }}</div>
          </div>
        </div>
      </div>

    </div>




    <!-- Right Section -->
    <div class="right-section" [class.collapsed]="isRightCollapsed">
      <div class="section-header">
        <h3>References</h3>
        <button class="toggle-btn" (click)="toggleRight()">
          <i class="fas fa-toggle-on"></i> </button>
      </div>
      <div class="references-content">
        <div class="tabs">
          <button class="tab-button" [class.active]="activeTab === 'history'" (click)="setActiveTab('history')">
            <i class="icon-history"></i> History
          </button>
          <button *ngIf="parseJson(rowData?.demographics?.userServiceType )[0]?.value === 'By Birth /Descent'" 
           class="tab-button" [class.active]="activeTab === 'records'" (click)="setActiveTab('records')">
            <i class="icon-records"></i> Records
          </button>
          <button class="tab-button" [class.active]="activeTab === 'documents'" (click)="setActiveTab('documents')">
            <i class="icon-documents"></i> Documents
          </button>
        </div>

        <div class="tab-content" *ngIf="activeTab === 'history'">
          <!-- History Content -->
          <div class="details-container">
            <h3>Details for Application ID: {{ this.rowData.applicationId}}</h3>


            <div *ngIf="selectedRow">
              <!-- Officer Escalation Details -->
              <div *ngIf="selectedRow.officerEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('officer')">
                  Officer Escalation Details
                  <span [class]="isEscalationExpanded('officer') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('officer')" class="escalation-content">
                  <p><strong>Level:</strong> {{ selectedRow.officerEscDetails.level || 'N/A' }}</p>
                  <p><strong>Category:</strong> {{ selectedRow.officerEscDetails.category || 'N/A' }}</p>
                  <p><strong>Comment:</strong> {{ selectedRow.officerEscDetails.comment || 'N/A' }}</p>
                  <p><strong>Escalated By:</strong> {{ selectedRow.officerEscDetails.escBy || 'N/A' }}</p>
                  <p><strong>Escalation Time:</strong> {{ selectedRow.officerEscDetails.escDTimes || 'N/A' }}</p>
                </div>
              </div>

              <!-- Supervisor Escalation Details -->
              <div *ngIf="selectedRow.supervisorEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('supervisor')">
                  Supervisor Escalation Details
                  <span [class]="isEscalationExpanded('supervisor') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('supervisor')" class="escalation-content">
                  <p><strong>Level:</strong> {{ selectedRow.supervisorEscDetails.level || 'N/A' }}</p>
                  <p><strong>Category:</strong> {{ selectedRow.supervisorEscDetails.category || 'N/A' }}</p>
                  <p><strong>Comment:</strong> {{ selectedRow.supervisorEscDetails.comment || 'N/A' }}</p>
                  <p><strong>Escalated By:</strong> {{ selectedRow.supervisorEscDetails.escBy || 'N/A' }}</p>
                  <p><strong>Escalation Time:</strong> {{ selectedRow.supervisorEscDetails.escDTimes || 'N/A' }}</p>
                </div>
              </div>

              <!-- Legal Escalation Details -->
              <div *ngIf="selectedRow.legalEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('legal')">
                  Legal Escalation Details
                  <span [class]="isEscalationExpanded('legal') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('legal')" class="escalation-content">
                  <p><strong>Level:</strong> {{ selectedRow.legalEscDetails.level || 'N/A' }}</p>
                  <p><strong>Category:</strong> {{ selectedRow.legalEscDetails.category || 'N/A' }}</p>
                  <p><strong>Comment:</strong> {{ selectedRow.legalEscDetails.comment || 'N/A' }}</p>
                  <p><strong>Escalated By:</strong> {{ selectedRow.legalEscDetails.escBy || 'N/A' }}</p>
                  <p><strong>Escalation Time:</strong> {{ selectedRow.legalEscDetails.escDTimes || 'N/A' }}</p>
                </div>
              </div>
            </div>

            <div *ngIf="!selectedRow">
              <p>No row selected. Click on a row to see details.</p>
            </div>
          </div>
        </div>
        <!-- Records Content -->
        <div class="tab-content" *ngIf="activeTab === 'records'">
          <div class="scrollable-container">
            <!-- Check if there are person details -->
            <ng-container *ngIf="personDetails.length > 0; else noData">
              <div *ngFor="let person of personDetails">
                <h4>{{ person.role | titlecase }} Details</h4>
                <div *ngFor="let key of objectKeys(person.details)">
                  <p>{{ formatKey(key) }}: {{ person.details[key] }}</p>
                </div>
                <button (click)="showDemographicData(person.details[person.role + 'Nin'])">Open</button>
              </div>

            </ng-container>
            <ng-template #noData>
              <p>No NIN data found for Father, Mother, or Guardian.</p>
            </ng-template>
          </div>
        </div>


        <div class="tab-content" *ngIf="activeTab === 'documents'">
          <!-- Documents Content -->
          <div class="documents-section">
            <p>Documents content goes here...</p>
            <div *ngFor="let document of documents; let i = index">
              <!-- Section Header -->
              <div class="section-header" (click)="toggleSection(i)">
                <h4>{{ document.category }}</h4>
                <i class="fas" [ngClass]="isSectionExpanded[i] ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </div>
              <!-- Document Items -->
              <div class="document-items" *ngIf="isSectionExpanded[i]">
                <div class="document-item">
                  <span><i class="fas fa-file-alt"></i> {{ document.title }}</span>
                  <button class="view-button" [disabled]="!document.file" (click)="viewDocument(document)">
                    <i class="fas fa-external-link-alt"></i>
                  </button>
                </div>
                <div class="document-item">
                  <span>{{ document.fileName || 'No File Uploaded' }}</span>
                  <button class="btn view-button" [disabled]="!document.file" (click)="viewDocument(document)">
                    View
                  </button>
                </div>
                <div class="upload-section">
                  <input type="file" id="fileInput_{{ i }}" class="file-input" (change)="onFileSelect($event)"
                    accept=".pdf,.doc,.docx,.jpg,.png" />
                  <button [ngClass]="{
                      'document-upload': role === 'MVS_DISTRICT_OFFICER',
                      hidden: role !== 'MVS_DISTRICT_OFFICER'
                    }" (click)="openDocumentUploadwModal(document.category, document.title)">
                    {{ constants.UPLOAD_DCOUMENTS }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Back Button -->
  <div class="footer">
    <button class="back-button" (click)="goBack()">{{ constants.BACK }}</button>
  </div>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button class="approve" (click)="openApprovalModal()">
      <i class="fas fa-check-circle"></i>
      {{ constants.APPROVE }}
    </button>
    <button class="escalate" *ngIf="role !== 'MVS_DISTRICT_OFFICER' && role !== 'MVS_EXECUTIVE_DIRECTOR'"
      (click)="openEscalateModal()">
      <i class="fas fa-exclamation-triangle"></i>
      {{ constants.ESCALATE }}
    </button>
    <button class="reject" (click)="openRejectModal()">
      <i class="fas fa-times-circle"></i>
      {{ constants.REJECT }}
    </button>
    <!-- Schedule Interview Btn -->
    <button [ngClass]="{
        'schedule-interview': (role === 'MVS_LEGAL_OFFICER' || role === 'MVS_DISTRICT_OFFICER') ,
        'hidden': (role === 'MVS_OFFICER' || role === 'MVS_SUPERVISOR')
      }" (click)="openScheduleInterviewModal()">
      {{ constants.SCHEDULE_INTERVIEW }}
    </button>
    <!-- Document Upload Btn -->
    <!-- <button [ngClass]="{
        'document-upload': role === 'MVS_DISTRICT_OFFICER',
        'hidden': role !== 'MVS_DISTRICT_OFFICER'
      }" (click)="openDocumentUploadwModal('','')">
      {{ constants.UPLOAD_DCOUMENTS }}
    </button> -->
  </div>

  <!-- Approval Modal -->
  <div id="approvalModal" class="modal" [class.show]="showApprovalModal">
    <div class="modal-content">
      <span class="close-button" (click)="closeApprovalModal()">&times;</span>
      <h2>Approve Application?</h2>
      <div class="modal-body">
        <label>
          <input type="checkbox" [(ngModel)]="isChecked" />
          I have reviewed all the details in the application and found them acceptable.
        </label>
        <div class="comments-section">
          <label for="comments">Comments</label>
          <textarea id="comments" [(ngModel)]="approvalComment" placeholder="Enter your comments"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="cancel-button" (click)="closeApprovalModal()">Cancel</button>
        <button class="approve-button" [disabled]="!isChecked" (click)="approveApplication()">Approve</button>
      </div>
    </div>
  </div>

  <!-- Escalate Modal -->
  <div class="escalateModal" *ngIf="showEscalateModal">
    <div class="modal-content">

      <button class="close-button" (click)="closeEscalateModal()">×</button>
      <div class="modal-header">
        <h3>Escalate Application?</h3>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Change Officer Level <span title="Select the officer level to escalate to.">ℹ️</span></label>
          <select [(ngModel)]="selectedOfficerLevel" class="dropdown">
            <option *ngFor="let option of dropdownOptions" [value]="option.value" [selected]="option.default">
              {{ option.label }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="escalate-comments">Comments <span title="Comments are required."> *</span></label>
          <textarea id="escalate-comments" [(ngModel)]="escalationComment" placeholder="Enter your comments"
            required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn cancel" (click)="closeEscalateModal()">Cancel</button>
        <button class="btn escalate" [disabled]="!escalationComment.trim()" (click)="escalateApplication()">
          Escalate
        </button>
      </div>
    </div>
  </div>


  <!-- Reject Modal -->
  <div class="rejectModal" [class.show]="showRejectModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Reject Application?</h3>
        <button class="close-button" (click)="closeRejectModal()">×</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Reason Category <span title="Select the reason for rejection.">*</span></label>
          <select [(ngModel)]="rejectionCategory" class="dropdown">
            <option value="" disabled selected>-Select Reason Category-</option>
            <option value="invalid-information">Invalid Information</option>
            <option value="incomplete-documents">Incomplete Documents</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="reject-comments">Comments <span title="Comments are required."> *</span></label>
          <textarea id="reject-comments" [(ngModel)]="rejectionComment" placeholder="Enter your comments"
            required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn cancel" (click)="closeRejectModal()">Cancel</button>
        <button class="btn reject" [disabled]="!rejectionCategory || !rejectionComment.trim()"
          (click)="rejectApplication()">
          Reject
        </button>
      </div>
    </div>
  </div>


  <!-- Schedule Interview Modal -->
  <div class="interviewModal" *ngIf="showScheduleInterviewModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Schedule a Meeting</h3>
        <button class="close-button" (click)="closeScheduleInterviewModal()">×</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="districtOffice">District Office*</label>
          <select id="districtOffice" [(ngModel)]="interviewDetails.districtOffice" required>
            <option value="" disabled selected>Select District Office*</option>
            <option *ngFor="let office of districtOffices" [value]="office">
              {{ office }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="subject">Subject*</label>
          <input id="subject" type="text" placeholder="Interview Subject*" [(ngModel)]="interviewDetails.subject"
            required />
        </div>
        <div class="form-group">
          <label for="content">Content*</label>
          <textarea id="content" placeholder="Content/ List of Additional Documents*"
            [(ngModel)]="interviewDetails.content" required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn back" (click)="closeScheduleInterviewModal()">Cancel</button>
        <button class="btn send-invite" [disabled]="!isFormValid()" (click)="sendInvite()">Send Invite</button>
      </div>
    </div>
  </div>

  <!-- Document Upload Modal -->
  <div class="uploadDocumentModal" *ngIf="showDocumentUploadModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Documents</h3>
        <!-- Close Button -->
        <button class="close-button" (click)="closeDocumentUploadModal()">×</button>
      </div>
      <div class="modal-body">
        <label for="category">Document Category:</label>
        <input id="category" type="text" [value]="currentDocument.category" readonly />

        <!-- Prefilled Title -->
        <label for="title">Document Title:</label>
        <input id="title" type="text" [value]="currentDocument.title" readonly />

        <input type="file" (change)="onFileSelect($event)" accept=".pdf,.doc,.docx,.jpg,.png" required />
        <span class="file-name">{{ currentDocument.fileName || 'No file chosen' }}</span>

      </div>
      <div class="modal-footer">
        <button class="btn back" (click)="closeDocumentUploadModal()">Cancel</button>
        <!-- <button class="btn add" (click)="addDocumentRow()">Upload Another Doc</button> -->
        <button class="btn approve" (click)="confirmAndApprove()">Upload</button>
      </div>
    </div>

  </div>
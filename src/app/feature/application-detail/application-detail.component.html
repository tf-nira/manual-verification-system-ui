<div class="container">
  <!-- Header Section -->
  <app-header [view]="'Details'" [role]="role"></app-header>

  <div class="layout">
    <!-- Left Section -->
    <div class="left-section" [class.collapsed]="isLeftCollapsed">
      <div class="section-header">
        <h3>Navigation</h3>
        <button class="toggle-btn" (click)="toggleLeft()">
          <img src="assets/images/expand_collapse_icon.png" alt="Expand/Collapse" class="icon" />
        </button>
      </div>
      <div class="detail-content" *ngIf="!isLeftCollapsed">
        <div class="info-item">
          <div class="detail-label">ID</div>
          <div class="detail-value">{{ applicationId || 'N/A' }}</div>
        </div>
        <div class="info-item" *ngIf="role === constants.MVS_DISTRICT_OFFICER || role === constants.MVS_LEGAL_OFFICER">
          <div class="detail-label">Status</div>
          <div class="detail-value">{{ applicationStatus === 'INTERVIEW SCHEDULED' ? 'Interview Scheduled' : 'Pending' }}</div>
        </div>
        <div class="info-item">
          <div class="detail-label">Service</div>
          <div class="detail-value">{{ service || 'By Birth' }}</div>
        </div>
        <div class="info-item">
          <div class="detail-label">Service Type</div>
          <div class="detail-value">{{ serviceType || 'Section ABC' }}</div>
        </div>
        <div class="info-item">
          <div class="detail-label">Created Date</div>
          <div class="detail-value">{{ formattedDate }}</div>
        </div>
      </div>
      <div class="navigation-content" *ngIf="!isLeftCollapsed">
        <div *ngFor="let section of sections" class="part">
          <div class="part-header" (click)="toggleRightSection(section.id)">
            <span>{{ section.label }}</span>
          </div>
          <ul *ngIf="section.open">
            <li *ngFor="let subSection of section.subSections" (click)="scrollToSection(subSection.id)">
              {{ subSection.label }}
            </li>
          </ul>
        </div>
      </div>
    </div>



    <!-- Middle Section -->
    <div class="middle-section">
      <div id="personal-info-section" class="section" *ngIf="hasSectionData([
      'fullName', 'surname', 'givenName', 'otherNames', 'maidenName', 'previousName',
      'dateOfBirth', 'gender', 'phone', 'email', 'applicantLivingStatus', 'CountryCode',
      'homePhoneNumber', 'highestLevelOfEducation', 'otherHighestLevelOfEducation',
      'profession', 'otherProfession', 'occupation', 'otherOccupation',
      'religion', 'otherReligion', 'disabilities', 'otherDisability','userServiceType', 'userService', 
      'IDSchemaVersion', 'cardNumber', 'UIN', 'NIN', 'preferredLang', 'selectedHandles', 'NINVerified',
      'updatedAt', 'renewalNIN', 'nextOfKinPhoneNumber', 'ninExpiryDate', 'applicantNationality',
      'applicantOtherNationality', 'citizenshipCertificateNo', 'foundLink'
    ])">

        <div class="photo-container" *ngIf="photoBase64; else noPhoto">
          <img [src]="photoBase64" alt="Applicant Photo" (error)="onImageError()" />
        </div>
        <ng-template #noPhoto>
          <div class="photo-container no-photo">
            <p>No photo available.</p>
          </div>
        </ng-template>


        <h3>Personal Information</h3>
        <div class="personal-information">

          <div class="field-container" *ngIf="rowData?.demographics?.fullName">
            <label>Fullname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fullName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.surname">
            <label>Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.surname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.givenName">
            <label>Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.givenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherNames">
            <label>Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.maidenName">
            <label>Maiden Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.maidenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.previousName">
            <label>Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.previousName)[0]?.value }}</div>
          </div>
          <div class="field-container" *ngIf="rowData?.demographics?.dateOfBirth">
            <label>Date of Birth</label>
            <div class="field-value">{{ rowData?.demographics?.dateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.gender">
            <label>Gender</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.gender)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.phone">
            <label>Phone</label>
            <div class="field-value">{{rowData?.demographics?.phone }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.email">
            <label>Email</label>
            <div class="field-value">{{ rowData?.demographics?.email }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantLivingStatus">
            <label>Applicant Living Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantLivingStatus)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.CountryCode">
            <label>Country Code</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.CountryCode)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.homePhoneNumber">
            <label>Home Phone Number</label>
            <div class="field-value">{{ rowData?.demographics?.homePhoneNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.highestLevelOfEducation">
            <label>Highest Level of Education</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.highestLevelOfEducation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherHighestLevelOfEducation">
            <label>Other Highest Level of Education</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherHighestLevelOfEducation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.profession">
            <label>Profession</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.profession)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherProfession">
            <label>Other Profession</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherProfession)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.occupation">
            <label>Occupation</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.occupation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherOccupation">
            <label>Other Occupation</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherOccupation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.religion">
            <label>Religion</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.religion)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherReligion">
            <label>Other Religion</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherReligion)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.disabilities">
            <label>Disabilities</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.disabilities)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherDisability">
            <label>Other Disability</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherDisability)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.userServiceType">
            <label>User Service Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.userServiceType )[0]?.value}}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.userService">
            <label>User Service</label>
            <div class="field-value">{{ rowData?.demographics?.userService }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.cardNumber">
            <label>Card Number</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.cardNumber)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.UIN">
            <label>Uin</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.UIN)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.NIN">
            <label>Nin</label>
            <div class="field-value">{{ rowData?.demographics?.NIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.preferredLang">
            <label>Preferred Language</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.preferredLang)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.NINVerified">
            <label>Nin Verified</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.NINVerified)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.updatedAt">
            <label>Update Date</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.updatedAt)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.renewalNIN">
            <label>Renewal Nin</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.renewalNIN)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.nextOfKinPhoneNumber">
            <label>Next of Kin Phone Number</label>
            <div class="field-value">{{rowData?.demographics?.nextOfKinPhoneNumber}}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.ninExpiryDate">
            <label>Nin Expiry Date</label>
            <div class="field-value">{{ rowData?.demographics?.ninExpiryDate }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantNationality">
            <label>Applicant Nationality</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantNationality)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantOtherNationality">
            <label>Applicant Other Nationality</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantOtherNationality)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.citizenshipCertificateNo">
            <label>Citizenship Certificate No</label>
            <div class="field-value">{{ rowData?.demographics?.citizenshipCertificateNo }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.foundLink">
            <label>Foundling</label>
            <div class="field-value">{{ rowData?.demographics?.foundLink}}</div>
          </div>

        </div>
      </div>


      <div id="place-of-residence-section" class="section" *ngIf="hasSectionData([
      'residenceStatus', 'applicantPlaceOfResidence', 'applicantForeignResidenceCountry',
      'applicantForeignResidenceAddress', 'appResCountryUGA', 'applicantPlaceOfResidenceCounty',
      'applicantPlaceOfResidenceSubCounty', 'applicantPlaceOfResidenceParish',
      'applicantPlaceOfResidenceVillage', 'applicantPlaceOfResidenceStreet',
      'applicantPlaceOfResidenceYearsLived', 'applicantPlaceOfResidenceDistrictOfPrevRes',
      'applicantPlaceOfResidencePostalAddress', 'applicantPlaceOfResidenceHouseNo',
      'applicantPlaceOfResidenceDistrict'
    ])">

        <h3>Place Of Residence</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.residenceStatus">
            <label>Residence Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.residenceStatus)[0]?.value }}</div>
          </div>
          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidence">
            <label>Applicant Place of Residence</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidence)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignResidenceCountry">
            <label>Applicant Foreign Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignResidenceCountry)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignResidenceAddress">
            <label>Applicant Foreign Residence Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignResidenceAddress)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.appResCountryUGA">
            <label>Aplicant Place of Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.appResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceCounty">
            <label>Applicant Place of Residence County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceCounty)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceSubCounty">
            <label>Applicant Place of Residence Subcounty</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.applicantPlaceOfResidenceSubCounty)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceParish">
            <label>Applicant Place of Residence Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceParish)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceVillage">
            <label>Applicant Place of Residence Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceVillage)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceStreet">
            <label>Applicant Place of Residence Street</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfResidenceStreet)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceYearsLived">
            <label>Applicant Place of Residence Years Lived</label>
            <div class="field-value">{{rowData?.demographics?.applicantPlaceOfResidenceYearsLived }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceDistrictOfPrevRes">
            <label>District of Previous Residence</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.applicantPlaceOfResidenceDistrictOfPrevRes)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidencePostalAddress">
            <label>Applicant Place of Residence Postal Address</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.applicantPlaceOfResidencePostalAddress)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceHouseNo">
            <label>Applicant Place of Residence House No</label>
            <div class="field-value">{{ rowData?.demographics?.applicantPlaceOfResidenceHouseNo }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfResidenceDistrict">
            <label>Applicant Place of Residence District</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.applicantPlaceOfResidenceDistrict)[0]?.value
              }}</div>
          </div>
        </div>
      </div>

      <div id="place-of-birth-section" class="section" *ngIf="hasSectionData([
      'applicantForeignBirthCountry', 'applicantForeignBirthAddress', 'appBirCountryUGA',
      'applicantPlaceOfBirthDistrict', 'applicantPlaceOfBirthCounty',
      'applicantPlaceOfBirthSubCounty', 'applicantPlaceOfBirthParish',
      'applicantPlaceOfBirthVillage', 'applicantPlaceOfBirthCity', 'applicantPlaceOfBirthHealthFacility'
    ])">
        <h3>Place Of Birth</h3>
        <div class="personal-information">

          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignBirthCountry">
            <label>Applicant Foreign Birth Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignBirthCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignBirthAddress">
            <label>Applicant Foreign Birth Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignBirthAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.appBirCountryUGA">
            <label>Applicant Place of Birth Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.appBirCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthDistrict">
            <label>Applicant Place of Birth District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthDistrict)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthCounty">
            <label>Applicant Place of Birth County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthSubCounty">
            <label>Applicant Place of Birth Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthSubCounty)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthParish">
            <label>Applicant Place of Birth Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthVillage">
            <label>Applicant Place of Birth Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthVillage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthCity">
            <label>Applicant Place of Birth City</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthCity)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfBirthHealthFacility">
            <label>Health Facility</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfBirthHealthFacility)[0]?.value }}</div>
          </div>

        </div>
      </div>

      <div id="place-of-origin-section" class="section" *ngIf="hasSectionData([
      'applicantForeignOriginCountry', 'applicantForeignOriginAddress', 'appOriCountryUGA',
      'applicantPlaceOfOriginDistrict', 'applicantPlaceOfOriginCounty',
      'applicantPlaceOfOriginSubCounty', 'applicantPlaceOfOriginParish',
      'applicantPlaceOfOriginVillage', 'applicantPlaceOfOriginIndigenousCommunityTribe',
      'applicantPlaceOfOriginClan'
    ])">

        <h3>Place of Origin</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignOriginCountry">
            <label>Applicant Foreign Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignOriginCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantForeignOriginAddress">
            <label>Applicant Foreign Origin Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantForeignOriginAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.appOriCountryUGA">
            <label>Applicant Place of Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.appOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginDistrict">
            <label>Applicant Place of Origin district</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginDistrict)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginCounty">
            <label>Applicant Place of Origin County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginSubCounty">
            <label>Applicant Place of Origin Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginSubCounty)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginParish">
            <label>Applicant Place of Origin Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginVillage">
            <label>Applicant Place of Origin Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginVillage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginIndigenousCommunityTribe">
            <label>Indigenous Community Tribe</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.applicantPlaceOfOriginIndigenousCommunityTribe)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPlaceOfOriginClan">
            <label>Applicant Place of Origin Clan</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.applicantPlaceOfOriginClan)[0]?.value }}
            </div>
          </div>
        </div>

      </div>


      <div id="citizenship-details-section" class="section"
        *ngIf="hasSectionData(['applicantPassportNumber', 'applicantPassportFileNumber'])">

        <h3>Citizenship Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.applicantPassportNumber">
            <label>Applicant Passport Number</label>
            <div class="field-value">{{ rowData?.demographics?.applicantPassportNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.applicantPassportFileNumber">
            <label>Applicant Passport Filenumber</label>
            <div class="field-value">{{ rowData?.demographics?.applicantPassportFileNumber }}
            </div>
          </div>

        </div>
      </div>

      <div id="voter-info-section" class="section" *ngIf="hasSectionData( [
      'preferredPollingStation', 'pollingStationNameResidence', 'pollingStationNameOrigin'
    ])">

        <h3>Voters Information</h3>
        <div class="personal-information">

          <div class="field-container" *ngIf="rowData?.demographics?.preferredPollingStation">
            <label>Preferred Polling Station</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.preferredPollingStation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.pollingStationNameResidence">
            <label>Polling station name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.pollingStationNameResidence)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.pollingStationNameOrigin">
            <label>Polling station name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.pollingStationNameOrigin)[0]?.value }}
            </div>
          </div>
        </div>
      </div>

      <div id="marital-status-section" class="section" *ngIf="hasSectionData(['maritalStatus'])">

        <h3>Marital Status</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.maritalStatus">
            <label>Marital Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.maritalStatus)[0]?.value }}</div>
          </div>
        </div>
      </div>

      <div id="spouse-details-section" class="section" *ngIf="hasSectionData(['spouseSurname', 
      'spouseGivenName', 'spouseOtherNames', 'spouseMaidenName', 'spousePreviousName', 'spouseNIN', 
      'spouseCitizenshipType', 'spousePlaceOfMarriage', 'spouseDateOfMarriage', 'spouseTypeOfMarriage', 
      'spouseMarriageCertificateNumber', 'numberOfOtherSpouses', 
      'spouseTwoSurname', 'spouseTwoGivenName', 'spouseTwoOtherNames', 'spouseTwoPreviousName', 'spouseTwoNIN', 
      'spouseTwoCitizenshipType', 'spouseTwoPlaceOfMarriage', 'spouseTwoDateOfMarriage', 'spouseTwoTypeOfMarriage', 
      'spouseTwoMarriageCertificateNumber', 'spouseThreeSurname',
       'spouseThreeGivenName', 'spouseThreeOtherNames', 'spouseThreeMaidenName', 'spouseThreePreviousName', 'spouseThreeNIN',
        'spouseThreeCitizenshipType', 
       'spouseThreePlaceOfMarriage', 'spouseThreeDateOfMarriage', 'spouseThreeTypeOfMarriage', 
       'spouseThreeMarriageCertificateNumber'])">

        <h3>Spouse Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.spouseSurname">
            <label>Spouse Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseGivenName">
            <label>Spouse Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseOtherNames">
            <label>Spouse Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseMaidenName">
            <label>Spouse Maiden Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseMaidenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spousePreviousName">
            <label>Spouse Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spousePreviousName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseNIN">
            <label>Spouse Nin</label>
            <div class="field-value">{{ rowData?.demographics?.spouseNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseCitizenshipType">
            <label>Spouse Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spousePlaceOfMarriage">
            <label>Spouse Place of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spousePlaceOfMarriage)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseDateOfMarriage">
            <label>Spouse Date of Marriage</label>
            <div class="field-value">{{ rowData?.demographics?.spouseDateOfMarriage }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTypeOfMarriage">
            <label>Spouse Type of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTypeOfMarriage)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseMarriageCertificateNumber">
            <label>Spouse Marriage Certificate Number</label>
            <div class="field-value">{{ rowData?.demographics?.spouseMarriageCertificateNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.numberOfOtherSpouses">
            <label>Number of Other Spouses</label>
            <div class="field-value">{{rowData?.demographics?.numberOfOtherSpouses }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoSurname">
            <label>Spouse Two Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoGivenName">
            <label>Spouse Two Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoOtherNames">
            <label>Spouse Two Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoPreviousName">
            <label>Spouse Two Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoPreviousName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoNIN">
            <label>Spouse Two Nin</label>
            <div class="field-value">{{ rowData?.demographics?.spouseTwoNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoCitizenshipType">
            <label>Spouse Two Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoCitizenshipType)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoPlaceOfMarriage">
            <label>Spouse Two Place of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoPlaceOfMarriage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoDateOfMarriage">
            <label>Spouse Two Date of Marriage</label>
            <div class="field-value">{{ rowData?.demographics?.spouseTwoDateOfMarriage }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoTypeOfMarriage">
            <label>Spouse Two Type of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseTwoTypeOfMarriage)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseTwoMarriageCertificateNumber">
            <label>Spouse Two Marriage Certificate Number</label>
            <div class="field-value">{{rowData?.demographics?.spouseTwoMarriageCertificateNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeSurname">
            <label>Spouse Three Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeGivenName">
            <label>Spouse Three Given name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeOtherNames">
            <label>Spouse Three Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeMaidenName">
            <label>Spouse Three Maiden Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeMaidenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreePreviousName">
            <label>Spouse Three Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreePreviousName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeNIN">
            <label>Spouse Three Nin</label>
            <div class="field-value">{{ rowData?.demographics?.spouseThreeNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeCitizenshipType">
            <label>Spouse Three Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeCitizenshipType)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreePlaceOfMarriage">
            <label>Spouse Three Place of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreePlaceOfMarriage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeDateOfMarriage">
            <label>Spouse Three Date of Marriage</label>
            <div class="field-value">{{ rowData?.demographics?.spouseThreeDateOfMarriage }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeTypeOfMarriage">
            <label>Spouse Three Type of Marriage</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.spouseThreeTypeOfMarriage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.spouseThreeMarriageCertificateNumber">
            <label>Spouse Three Marriage Certificate Number</label>
            <div class="field-value">{{rowData?.demographics?.spouseThreeMarriageCertificateNumber }}</div>
          </div>
        </div>
      </div>

      <div id="father-details-section" class="section" *ngIf="hasSectionData( [
      'fatherLivingStatus', 'fatherSurname', 'fatherGivenName', 'fatherOtherNames',
      'fatherPreviousName', 'fatherNIN', 'fatherUIN', 'fatherIDDocumentNo', 'fatherCitizenshipType',
      'fatherCitizenCertificateNumber', 'fatherIndigenousCommunityTribe', 'fatherIndigenousCommunityClan',
      'fatherOccupation', 'fatherForeignResidenceCountry', 'fatherForeignResidenceAddress',
      'fatherPostalAddress', 'fatResCountryUGA', 'fatherPlaceOfResidenceDistrict',
      'fatherPlaceOfResidenceCounty', 'fatherPlaceOfResidenceSubCounty', 'fatherPlaceOfResidenceParish',
      'fatherPlaceOfResidenceVillage', 'fatherPlaceOfResidenceStreet', 'fatherPlaceOfResidenceHouseNo',
      'fatherForeignOriginCountry', 'fatherForeignOriginAddress', 'fatOriCountryUGA',
      'fatherPlaceOfOriginDistrict', 'fatherPlaceOfOriginCounty', 'fatherPlaceOfOriginSubCounty',
      'fatherPlaceOfOriginParish', 'fatherPlaceOfOriginVillage'
    ])">
        <h3>Father's Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.fatherLivingStatus">
            <label>Father Living Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherLivingStatus)[0]?.value }}</div>
          </div>


          <div class="field-container" *ngIf="rowData?.demographics?.fatherSurname">
            <label>Father Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherGivenName">
            <label>Father Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherOtherNames">
            <label>Father Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPreviousName">
            <label>Father Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPreviousName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherNIN">
            <label>Father Nin</label>
            <div class="field-value">{{ rowData?.demographics?.fatherNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherUIN">
            <label>Father Uin</label>
            <div class="field-value">{{ rowData?.demographics?.fatherUIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherIDDocumentNo">
            <label>Father Id Document No</label>
            <div class="field-value">{{ rowData?.demographics?.fatherIDDocumentNo }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherCitizenshipType">
            <label>Father Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherCitizenCertificateNumber">
            <label>Father Citizen Certificate Number</label>
            <div class="field-value">{{ rowData?.demographics?.fatherCitizenCertificateNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherIndigenousCommunityTribe">
            <label>Father Indigenous Community Tribe</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherIndigenousCommunityTribe)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherIndigenousCommunityClan">
            <label>Father Indigenous Community Clan</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherIndigenousCommunityClan)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherOccupation">
            <label>Father Occupation</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherOccupation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherForeignResidenceCountry">
            <label>Father Foreign Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherForeignResidenceCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherForeignResidenceAddress">
            <label>Father Foreign Residence Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherForeignResidenceAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPostalAddress">
            <label>Father Postal Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPostalAddress)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatResCountryUGA">
            <label>Father Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceDistrict">
            <label>Father Place of Residence District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceDistrict)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceCounty">
            <label>Father Place of Residence County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceSubCounty">
            <label>Father Place of Residence Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceSubCounty)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceParish">
            <label>Father Place of Residence Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceVillage">
            <label>Father Place of Residence Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceVillage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceStreet">
            <label>Father Place of Residence Street</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfResidenceStreet)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfResidenceHouseNo">
            <label>Father Place of Residence Houseno</label>
            <div class="field-value">{{ rowData?.demographics?.fatherPlaceOfResidenceHouseNo }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherForeignOriginCountry">
            <label>Father Foreign Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherForeignOriginCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherForeignOriginAddress">
            <label>Father Foreign Origin Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherForeignOriginAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatOriCountryUGA">
            <label>Father Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfOriginDistrict">
            <label>Father Place of Origin District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginDistrict)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfOriginCounty">
            <label>Father Place of Origin County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfOriginSubCounty">
            <label>Father Place of Origin Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginSubCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfOriginParish">
            <label>Father Place of Origin Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.fatherPlaceOfOriginVillage">
            <label>Father Place of Origin Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.fatherPlaceOfOriginVillage)[0]?.value }}
            </div>
          </div>
        </div>
      </div>

      <div id="mother-details-section" class="section" *ngIf="hasSectionData([
      'motherLivingStatus', 'motherSurname', 'motherGivenName', 'motherOtherNames',
      'motherPreviousName', 'motherMaidenName', 'motherNIN', 'motherIDDocumentNo',
      'motherCitizenshipType', 'motherCitizenCertificateNumber', 'motherIndigenousCommunityTribe',
      'motherIndigenousCommunityClan', 'motherOccupation', 'motherForeignResidenceCountry',
      'motherForeignResidenceAddress', 'motherPostalAddress', 'motResCountryUGA',
      'motherPlaceOfResidenceDistrict', 'motherPlaceOfResidenceCounty', 'motherPlaceOfResidenceSubCounty',
      'motherPlaceOfResidenceParish', 'motherPlaceOfResidenceVillage', 'motherPlaceOfResidenceStreet',
      'motherPlaceOfResidenceHouseNo', 'motherForeignOriginCountry', 'motherForeignOriginAddress',
      'motOriCountryUGA', 'motherPlaceOfOriginDistrict', 'motherPlaceOfOriginCounty',
      'motherPlaceOfOriginSubCounty', 'motherPlaceOfOriginParish', 'motherPlaceOfOriginVillage'
    ])">

        <h3>Mother's Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.motherLivingStatus">
            <label>Mother Living Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherLivingStatus)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherSurname">
            <label>Mother Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherGivenName">
            <label>Mother Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherOtherNames">
            <label>Mother Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPreviousName">
            <label>Mother Previous Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPreviousName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherMaidenName">
            <label>Mother Maiden Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherMaidenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherNIN">
            <label>Mother Nin</label>
            <div class="field-value">{{ rowData?.demographics?.motherNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherIDDocumentNo">
            <label>Mother Id Document No</label>
            <div class="field-value">{{ rowData?.demographics?.motherIDDocumentNo }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherCitizenshipType">
            <label>Mother Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherCitizenCertificateNumber">
            <label>Mother Citizen Certificate Number</label>
            <div class="field-value">{{ rowData?.demographics?.motherCitizenCertificateNumber }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherIndigenousCommunityTribe">
            <label>Mother Indigenous Community Tribe</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherIndigenousCommunityTribe)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherIndigenousCommunityClan">
            <label>Mother Indigenous Community Clan</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherIndigenousCommunityClan)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherOccupation">
            <label>Mother Occupation</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherOccupation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherForeignResidenceCountry">
            <label>Mother Foreign Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherForeignResidenceCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherForeignResidenceAddress">
            <label>Mother Foreign Residence Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherForeignResidenceAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPostalAddress">
            <label>Mother Postal Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPostalAddress)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motResCountryUGA">
            <label>Mother Residence Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motResCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceDistrict">
            <label>Mother Place of Residence District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceDistrict)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceCounty">
            <label>Mother Place of Residence County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceSubCounty">
            <label>Mother Place of Residence Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceSubCounty)[0]?.value
              }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceParish">
            <label>Mother Place of Residence Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceVillage">
            <label>Mother Place of Residence Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceVillage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceStreet">
            <label>Mother Place of Residence Street</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfResidenceStreet)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfResidenceHouseNo">
            <label>Mother Place of Residence Houseno</label>
            <div class="field-value">{{ rowData?.demographics?.motherPlaceOfResidenceHouseNo }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherForeignOriginCountry">
            <label>Mother Foreign Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherForeignOriginCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherForeignOriginAddress">
            <label>Mother Foreign Origin Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherForeignOriginAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motOriCountryUGA">
            <label>Mother Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motOriCountryUGA)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfOriginDistrict">
            <label>Mother Place of Origin District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginDistrict)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfOriginCounty">
            <label>Mother Place of Origin County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfOriginSubCounty">
            <label>Mother Place of Origin Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginSubCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfOriginParish">
            <label>Mother Place of Origin Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginParish)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.motherPlaceOfOriginVillage">
            <label>Mother Place of Origin Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.motherPlaceOfOriginVillage)[0]?.value }}
            </div>
          </div>
        </div>
      </div>

      <div id="intoducer-details-section" class="section" *ngIf="hasSectionData( [
      'guardianRelationToApplicant', 'guardianSurname', 'guardianGivenName', 'guardianOtherNames',
      'guardianOccupation', 'guardianNIN_AIN', 'guardianIDDocumentnumber', 'guardianPassportNumber',
      'guardianTribe', 'guardianClan', 'guardianCitizenshipType', 'guardianCitizenshipCertificateNumber',
      'guardianOtherNationality', 'guardianForeignOriginCountry', 'guardianForeignOriginAddress',
      'guardiansCountry', 'guardianResidenceDistrict', 'guardianResidenceCounty',
      'guardianResidenceSubCounty', 'guardianResidenceParish', 'guardianResidenceVillage',
      'guardianResidenceStreet', 'guardianResidence', 'guardianDateOfBirth'
    ])">

        <h3>Blood Relative's/Introducer Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.guardianRelationToApplicant">
            <label>Guardian Relation To Applicant</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianRelationToApplicant)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianSurname">
            <label>Guardian Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianGivenName">
            <label>Guardian Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianOtherNames">
            <label>Guardian Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianOtherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianOccupation">
            <label>Guardian Occupation</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianOccupation)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianNIN_AIN">
            <label>Guardian Nin</label>
            <div class="field-value">{{rowData?.demographics?.guardianNIN_AIN}}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianIDDocumentnumber">
            <label>Guardian Id Document Number</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianIDDocumentnumber)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianPassportNumber">
            <label>Guardian Passport Number</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianPassportNumber)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianTribe">
            <label>Guardian Tribe</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianTribe)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianClan">
            <label>Guardian Clan</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianClan)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianCitizenshipType">
            <label>Guardian Citizenship Type</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianCitizenshipType)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianCitizenshipCertificateNumber">
            <label>Guardian Citizenship Certificate Number</label>
            <div class="field-value">{{
              parseJson(rowData?.demographics?.guardianCitizenshipCertificateNumber)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianOtherNationality">
            <label>Guardian Other Nationality</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianOtherNationality)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianForeignOriginCountry">
            <label>Guardian Foreign Origin Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianForeignOriginCountry)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianForeignOriginAddress">
            <label>Guardian Foreign Origin Address</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianForeignOriginAddress)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardiansCountry">
            <label>Guardians Country</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardiansCountry)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceDistrict">
            <label>Guardian Residence District</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceDistrict)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceCounty">
            <label>Guardian Residence County</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceCounty)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceSubCounty">
            <label>Guardian Residence Subcounty</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceSubCounty)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceParish">
            <label>Guardian Residence Parish</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceParish)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceVillage">
            <label>Guardian Residence Village</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceVillage)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidenceStreet">
            <label>Guardian Residence Street</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidenceStreet)[0]?.value }}</div>
          </div>


          <div class="field-container" *ngIf="rowData?.demographics?.guardianResidence">
            <label>Guardian Residence</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.guardianResidence)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.guardianDateOfBirth">
            <label>Guardian Date of Birth</label>
            <div class="field-value">{{ rowData?.demographics?.guardianDateOfBirth }}</div>
          </div>
        </div>
      </div>

      <div id="children-details-section" class="section" *ngIf="hasSectionData([
      'childName', 'childSex', 'childDateOfBirth', 'childTwoName', 'childTwoSex',
      'childTwoDateOfBirth', 'childThreeName', 'childThreeSex', 'childThreeDateOfBirth',
      'childFourName', 'childFourSex', 'childFourDateOfBirth', 'childFiveName',
      'childFiveSex', 'childFiveDateOfBirth', 'childSurname' , 'childGivenName', 
      'childOtherName', 'childNIN' , 
      'childTwoSurname' , 
      'childTwoGivenName' ,
      'childTwoOtherName' ,
      'childTwoNIN' ,
      'childThreeSurname' ,
      'childThreeGivenName' ,
      'childThreeOtherName' ,
      'childFourSurname' ,
      'childFourGivenName' ,
      'childFourOtherName' ,
      'childFiveSurname' ,
      'childFiveGivenName' ,
      'childFiveOtherName' ,
      'childFiveNIN', 'childSixSurname', 
      'childSixGivenName' , 
      'childSixOtherName' ,
      'childSixNIN' , 'childSixName', 'childSixSex', 'childSixDateOfBirth'
    ])">

        <h3>Particulars of Applicants Children</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.childName">
            <label>Child Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSurname">
            <label>Child Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childGivenName">
            <label>Child Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childOtherName">
            <label>Child Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childNIN">
            <label>Child NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSex">
            <label>Child Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childDateOfBirth">
            <label>Child Date Of Birth</label>
            <div class="field-value">{{rowData?.demographics?.childDateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoName">
            <label>Child Two Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childTwoName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoSurname">
            <label>Child Two Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childTwoSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoGivenName">
            <label>Child Two Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childTwoGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoOtherName">
            <label>Child Two Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childTwoOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoNIN">
            <label>Child Two NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childTwoNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoSex">
            <label>Child Two Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childTwoSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childTwoDateOfBirth">
            <label>Child Two Date of Birth</label>
            <div class="field-value">{{ rowData?.demographics?.childTwoDateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeName">
            <label>Child Three Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childThreeName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeSurname">
            <label>Child Three Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childThreeSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeGivenName">
            <label>Child Three Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childThreeGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeOtherName">
            <label>Child Three Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childThreeOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeNIN">
            <label>Child Three NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childThreeNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeSex">
            <label>Child Three Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childThreeSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childThreeDateOfBirth">
            <label>Child Three Date of Birth</label>
            <div class="field-value">{{rowData?.demographics?.childThreeDateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourName">
            <label>Child Four Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFourName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourSurname">
            <label>Child Four Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFourSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourGivenName">
            <label>Child Four Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFourGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourOtherName">
            <label>Child Four Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFourOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourNIN">
            <label>Child Four NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childFourNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourSex">
            <label>Child Four Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFourSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFourDateOfBirth">
            <label>Child Four Date of Birth</label>
            <div class="field-value">{{ rowData?.demographics?.childFourDateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveName">
            <label>Child Five Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFiveName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveSurname">
            <label>Child Five Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFiveSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveGivenName">
            <label>Child Five Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFiveGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveOtherName">
            <label>Child Five Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFiveOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveNIN">
            <label>Child Five NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childFiveNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveSex">
            <label>Child Five Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childFiveSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childFiveDateOfBirth">
            <label>Child Five Date of Birth</label>
            <div class="field-value">{{rowData?.demographics?.childFiveDateOfBirth }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixName">
            <label>Child Six Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSixName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixSurname">
            <label>Child Six Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSixSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixGivenName">
            <label>Child Six Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSixGivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixOtherName">
            <label>Child Six Other Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSixOtherName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixNIN">
            <label>Child Six NIN</label>
            <div class="field-value">{{ rowData?.demographics?.childSixNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixSex">
            <label>Child Six Sex</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.childSixSex)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.childSixDateOfBirth">
            <label>Child Six Date of Birth</label>
            <div class="field-value">{{rowData?.demographics?.childSixDateOfBirth }}</div>
          </div>

        </div>
      </div>

      <div id="declarant-details-section" class="section" *ngIf="hasSectionData([
      'declarant', 'declarantSurname', 'declarantgivenName', 'declarantotherNames',
      'declarantPreviousNames', 'declarantMaidenName', 'declarantGender', 'declarantNationality',
      'declarantResidenceStatus', 'introducerNIN', 'relationToApplicant', 'otherDeclarantRelationship', 'PRN'
    ])">

        <h3>Declarant's Details</h3>
        <div class="personal-information">
          <div class="field-container" *ngIf="rowData?.demographics?.declarant">
            <label>Declarant</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarant)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantSurname">
            <label>Declarant Surname</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantSurname)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantgivenName">
            <label>Declarant Given Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantgivenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantotherNames">
            <label>Declarant Other Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantotherNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantPreviousNames">
            <label>Declarant Previous Names</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantPreviousNames)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantMaidenName">
            <label>Declarant Maiden Name</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantMaidenName)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantGender">
            <label>Declarant Gender</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantGender)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantNationality">
            <label>Declarant Nationality</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantNationality)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.declarantResidenceStatus">
            <label>Declarant Residence Status</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.declarantResidenceStatus)[0]?.value }}
            </div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.introducerNIN">
            <label>Introducer Nin</label>
            <div class="field-value">{{ rowData?.demographics?.introducerNIN }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.relationToApplicant">
            <label>Relation to Applicant</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.relationToApplicant)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.otherDeclarantRelationship">
            <label>Other Declarant Relationship</label>
            <div class="field-value">{{ parseJson(rowData?.demographics?.otherDeclarantRelationship)[0]?.value }}</div>
          </div>

          <div class="field-container" *ngIf="rowData?.demographics?.PRN">
            <label>Prn</label>
            <div class="field-value">{{ rowData?.demographics?.PRN }}</div>
          </div>
        </div>
      </div>

    </div>



    <!-- Right Section -->
    <div class="right-section" [class.collapsed]="isRightCollapsed">
      <button class="toggle-btn" (click)="toggleRight()">
        <img src="assets/images/expand_collapse_icon.png" alt="Expand/Collapse" class="icon" />
      </button>
      <div class="references-content" *ngIf="!isRightCollapsed">
        <div class="tabs">
          <button class="tab-button" [class.active]="activeTab === 'history'" (click)="setActiveTab('history')">
            <img src="assets/images/history_section_icon.png" alt="Back" class="icon" />
            <i class="icon-history"></i> 
            History
          </button>
          <button *ngIf="parseJson(rowData?.demographics?.userServiceType )[0]?.value === 'By Birth /Descent'"
            class="tab-button" [class.active]="activeTab === 'records'" (click)="handleRecordsClick()">
            <img src="assets/images/records_section_icon.png" alt="Back" class="icon" />
            <i class="icon-records"></i> 
            Records
          </button>
          <button class="tab-button" [class.active]="activeTab === 'documents'" (click)="setActiveTab('documents')">
            <img src="assets/images/document_section_icon.png" alt="Back" class="icon" />
            <i class="icon-documents"></i> 
            Documents
          </button>
        </div>

        <div class="tab-content" *ngIf="activeTab === 'history'">
          <!-- History Content -->
          <div class="details-container">
            <h3>Details for Application ID: {{ this.rowData.applicationId}}</h3>

            <div *ngIf="enrollmentOfficerComment && enrollmentOfficerComment.trim()" class="info-item">
              <div class="detail-label">Enrollment Officer Comment</div>
              <div class="detail-value">{{ enrollmentOfficerComment }}</div>
            </div>

            <div *ngIf="statusComment" class="info-item">
              <div class="detail-label">CVS rejection reason</div>
              <div class="detail-value">{{ statusComment }}</div>
            </div>

            <div *ngIf="selectedRow">
              <!-- Officer Escalation Details -->
              <div *ngIf="selectedRow.officerEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('officer')">
                  Officer Escalation Details
                  <span [class]="isEscalationExpanded('officer') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('officer')" class="escalation-content">
                  <div class="detail-label">Level</div>
                  <div class="detail-value">{{ selectedRow.officerEscDetails.level || 'N/A' }}</div>
                  <div class="detail-label">Category</div>
                  <div class="detail-value">{{ selectedRow.officerEscDetails.category || 'N/A' }}</div>
                  <div class="detail-label">Comment</div>
                  <div class="detail-value">{{ selectedRow.officerEscDetails.comment || 'N/A' }}</div>
                  <div class="detail-label">Escalated By</div>
                  <div class="detail-value">{{ selectedRow.officerEscDetails.escBy || 'N/A' }}</div>
                  <div class="detail-label">Escalation Time</div>
                  <div class="detail-value">{{ selectedRow.officerEscDetails.escDTimes | date: 'dd-MM-yyyy HH:mm:ss'  || 'N/A' }}</div>
                </div>
              </div>

              <!-- Supervisor Escalation Details -->
              <div *ngIf="selectedRow.supervisorEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('supervisor')">
                  Supervisor Escalation Details
                  <span [class]="isEscalationExpanded('supervisor') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('supervisor')" class="escalation-content">
                  <div class="detail-label">Level</div>
                  <div class="detail-value">{{ selectedRow.supervisorEscDetails.level || 'N/A' }}</div>
                  <div class="detail-label">Category</div>
                  <div class="detail-value">{{ selectedRow.supervisorEscDetails.category || 'N/A' }}</div>
                  <div class="detail-label">Comment</div>
                  <div class="detail-value">{{ selectedRow.supervisorEscDetails.comment || 'N/A' }}</div>
                  <div class="detail-label">Escalated By</div>
                  <div class="detail-value">{{ selectedRow.supervisorEscDetails.escBy || 'N/A' }}</div>
                  <div class="detail-label">Escalation Time</div>
                  <div class="detail-value">{{ selectedRow.supervisorEscDetails.escDTimes | date: 'dd-MM-yyyy HH:mm:ss' || 'N/A' }}</div>
                </div>
              </div>

              <!-- Legal Escalation Details -->
              <div *ngIf="selectedRow.legalEscDetails" class="escalation-section">
                <button class="escalation-header" (click)="toggleEscalation('legal')">
                  Legal Escalation Details
                  <span [class]="isEscalationExpanded('legal') ? 'expanded' : 'collapsed'"></span>
                </button>
                <div *ngIf="isEscalationExpanded('legal')" class="escalation-content">
                  <div class="detail-label">Level</div>
                  <div class="detail-value">{{ selectedRow.legalEscDetails.level || 'N/A' }}</div>
                  <div class="detail-label">Category</div>
                  <div class="detail-value">{{ selectedRow.legalEscDetails.category || 'N/A' }}</div>
                  <div class="detail-label">Comment</div>
                  <div class="detail-value">{{ selectedRow.legalEscDetails.comment || 'N/A' }}</div>
                  <div class="detail-label">Escalated By</div>
                  <div class="detail-value">{{ selectedRow.legalEscDetails.escBy || 'N/A' }}</div>
                  <div class="detail-label">Escalation Time</div>
                  <div class="detail-value">{{ selectedRow.legalEscDetails.escDTimes | date: 'dd-MM-yyyy HH:mm:ss' || 'N/A' }}</div>
                </div>
              </div>
            </div>

            <div *ngIf="!selectedRow">
              <p>No row selected. Click on a row to see details.</p>
            </div>
          </div>
        </div>
        <!-- Records Content -->
        <div class="tab-content" *ngIf="activeTab === 'records'">
          <!-- <div class="scrollable-container"> -->
          <!-- Check if there are person details -->
          <ng-container *ngIf="personDetails.length > 0; else noData">
            <div *ngFor="let person of personDetails">
              <h4>{{ person.role | titlecase }} Details</h4>
              <!-- Check if demographicData exists and then iterate through allowedFields -->
              <ng-container *ngIf="demographicData; else noDemographicData">
                <div *ngFor="let field of allowedFields">
                  <!-- Extract meaningful data -->
                  <ng-container *ngIf="demographicData[field]">
                    <!-- <p>{{ formatKey(key) }}: {{ extractValue(person.details[key]) }}</p> -->
                    <ng-container *ngIf="extractValue(demographicData[field])">
                      <div class="detail-label">{{ formatKey(field) }}</div>
                      <div class="detail-value">{{ extractJsonValue(demographicData[field]) }}</div>
                    </ng-container>
                  </ng-container>
                </div>
                <button (click)="displayCachedData()">
                  Open
                </button>
              </ng-container>
              <ng-template #noDemographicData>
                <p>No demographic data available for {{ person.role | titlecase }}.</p>
              </ng-template>
            </div>
          </ng-container>
          <ng-template #noData>
            <p>No NIN data found for Father, Mother, or Guardian.</p>
          </ng-template>
          <!-- **Processing icon** -->
          <div *ngIf="isLoading" class="loading-icon">
            <mat-spinner diameter="50"></mat-spinner>
          </div>
          <!-- </div> -->
        </div>


        <div class="tab-content" *ngIf="activeTab === 'documents'">
          <!-- Documents Section -->
            <div *ngIf="documents.length === 0" class="no-documents">
              No documents available.
            </div>
          
            <div *ngFor="let document of documents">
              <!-- Document Row -->
              <div class="document-row">
                <span class="category-name">{{ getDocumentTitle(document.category) || 'Unknown Category' }}</span>
                <button
                  class="view-button"
                  [disabled]="!document.file"
                  (click)="viewDocument(document)"
                >
                  <i class="fas fa-external-link-alt"></i>
                  View
                </button>
              </div>
            </div>
          
            <!-- Upload Button -->
            <button
              class="document-upload"
              *ngIf="role === 'MVS_DISTRICT_OFFICER'"
              (click)="openDocumentUploadwModal()"
            >
              <img src="assets/images/upload_document_icon.png" alt="Back" class="icon" />
              <i class="icon-documents"></i>
              {{ constants.UPLOAD_DCOUMENTS }}
            </button>
        </div>
      </div>
    </div>



    <!-- Footer -->
    <div class="footer">
      <!-- Back Button -->
      <button class="back-button" (click)="goBack()">
        <img src="assets/images/back_icon.png" alt="Back" class="icon" />
        {{ constants.BACK }}
      </button>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="approve" (click)="openApprovalModal()">
          <img src="assets/images/approve_icon.png" alt="Back" class="icon" />
          <i class="fas fa-check-circle"></i>
          {{ constants.APPROVE }}
        </button>
        <button class="escalate" *ngIf="role !== 'MVS_DISTRICT_OFFICER' && role !== 'MVS_EXECUTIVE_DIRECTOR'"
          (click)="openEscalateModal()">
          <img src="assets/images/escalate_icon.png" alt="Back" class="icon" />
          <i class="fas fa-exclamation-triangle"></i>
          {{ constants.ESCALATE }}
        </button>
        <button class="reject" (click)="openRejectModal()">
          <img src="assets/images/reject_icon.png" alt="Back" class="icon" />
          <i class="fas fa-times-circle"></i>
          {{ constants.REJECT }}
        </button>
        <!-- Schedule Interview Btn -->
        <button [ngClass]="{
            'schedule-interview': (role === 'MVS_LEGAL_OFFICER' || role === 'MVS_DISTRICT_OFFICER') ,
            'hidden': (role === 'MVS_OFFICER' || role === 'MVS_SUPERVISOR'|| role === 'MVS_EXECUTIVE_DIRECTOR' || selectedRow.status === 'INTERVIEW SCHEDULED')
          }" (click)="openScheduleInterviewModal()">
          {{ constants.SCHEDULE_INTERVIEW }}
        </button>
      </div>

    </div>

  </div>

  <!-- Approval Modal -->
  <div id="approvalModal" class="modal" [class.show]="showApprovalModal">
    <div class="modal-content">
      <span class="close-button" (click)="closeApprovalModal()">&times;</span>
      <h2>Approve Application?</h2>
      <div class="modal-body">
        <label>
          <input type="checkbox" [(ngModel)]="isChecked" />
          I have reviewed all the details in the application and found them acceptable.
        </label>
        <div class="comments-section">
          <label for="comments">Comments</label>
          <textarea id="comments" [(ngModel)]="approvalComment" placeholder="Enter your comments"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="cancel-button" (click)="closeApprovalModal()">Cancel</button>
        <button class="approve-button" [disabled]="!isChecked" (click)="approveApplication()">Approve</button>
      </div>
    </div>
  </div>

  <!-- Escalate Modal -->
  <div class="escalateModal" *ngIf="showEscalateModal">
    <div class="modal-content">

      <button class="close-button" (click)="closeEscalateModal()"></button>
      <div class="modal-header">
        <h3>Escalate Application?</h3>
      </div>
      <div class="modal-body">
        <div class="field-container">
          <label>Change Officer Level <span title="Select the officer level to escalate to."></span></label>
          <select [(ngModel)]="selectedOfficerLevel" class="dropdown">
            <option *ngFor="let option of dropdownOptions" [value]="option.value" [selected]="option.default">
              {{ option.label }}
            </option>
          </select>
        </div>

        <div class="field-container">
          <label>Escalation Category <span title="Select the escalation category."></span></label>
          <select [(ngModel)]="escalationCategory" class="dropdown">
            <option *ngFor="let option of escalationCategories" [value]="option.value" [selected]="option.default">
              {{ option.value }}
            </option>
          </select>
        </div>

        <div class="field-container">
          <label for="escalate-comments">Comments <span title="Comments are required."> *</span></label>
          <textarea id="escalate-comments" [(ngModel)]="escalationComment" placeholder="Enter your comments"
            required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn cancel" (click)="closeEscalateModal()">Cancel</button>
        <button class="btn escalate" [disabled]="!escalationComment.trim()" (click)="escalateApplication()">
          Escalate
        </button>
      </div>
    </div>
  </div>


  <!-- Reject Modal -->
  <div class="rejectModal" [class.show]="showRejectModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Reject Application?</h3>
        <button class="close-button" (click)="closeRejectModal()"></button>
      </div>
      <div class="modal-body">
        <div class="field-container">
          <label>Rejection Category <span title="Select the reason for rejection.">*</span></label>
          <select [(ngModel)]="rejectionCategory" class="dropdown">
            <option *ngFor="let option of rejectionCategories" [value]="option.value" [selected]="option.default">
              {{ option.value }}
            </option>
          </select>
        </div>
        <div class="field-container">
          <label for="reject-comments">Rejection Comments <span title="Comments are required."> *</span></label>
          <textarea id="reject-comments" [(ngModel)]="rejectionComment" placeholder="Enter the Rejection comments"
            required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn cancel" (click)="closeRejectModal()">Cancel</button>
        <button class="btn reject" [disabled]="!rejectionCategory || !rejectionComment.trim()"
          (click)="rejectApplication()">
          Reject
        </button>
      </div>
    </div>
  </div>


  <!-- Schedule Interview Modal -->
  <div class="interviewModal" *ngIf="showScheduleInterviewModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Schedule a Meeting</h3>
        <button class="close-button" (click)="closeScheduleInterviewModal()"></button>
      </div>
      <div class="modal-body">
        <div *ngIf="role === constants.MVS_DISTRICT_OFFICER" class="field-container">
          <label for="districtOffice">District Office*</label>
          <select id="districtOffice" [(ngModel)]="interviewDetails.districtOffice" required>
            <option value="" disabled selected>Select District Office*</option>
            <option *ngFor="let office of districtOffices" [value]="office">
              {{ office }}
            </option>
          </select>
        </div>
        <div class="field-container">
          <label for="subject">Subject*</label>
          <input id="subject" type="text" placeholder="Interview Subject*" [(ngModel)]="interviewDetails.subject"
            required />
        </div>
        <div class="field-container">
          <label for="content">Content*</label>
          <textarea id="content" placeholder="Content/ List of Additional Documents*"
            [(ngModel)]="interviewDetails.content" required></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn back" (click)="closeScheduleInterviewModal()">Cancel</button>
        <button class="btn send-invite" [disabled]="!isFormValid()" (click)="sendInvite()">Send Invite</button>
      </div>
    </div>
  </div>

  <!-- Document Upload Modal -->
  <div class="uploadDocumentModal" *ngIf="showDocumentUploadModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Upload Documents</h3>
        <button class="close-button" (click)="closeDocumentUploadModal()">&#10006;</button>
      </div>

      <div class="modal-body">
        <div class="table">
          <div class="table-header">
            <div class="header-item">Category</div>
            <div class="header-item">Title</div>
            <div class="header-item">File Selection</div>
            <div class="header-item">Preview</div>
            <div class="header-item">Delete</div>
          </div>

          <div *ngFor="let document of additionalDocuments; let i = index" class="table-row">
            <select class="dropdown" [(ngModel)]="document.category" required>
              <option value="" disabled selected>Category *</option>
              <option *ngFor="let category of docCategories" [value]="category.key">
                {{ category.title }}
              </option>
            </select>


            <select class="dropdown" [(ngModel)]="document.title" required>
              <option value="" disabled selected>Title *</option>
              <option *ngFor="let title of getTitlesForDocument(document)" [value]="title">
                {{ title }}
              </option>
            </select>

            <div class="file-selection">
              <button class="file-button" (click)="triggerFileSelect(i)">Select</button>
              <button class="file-button" (click)="triggerScan(i)">Scan</button>
            </div>

            <button class="preview-button" [disabled]="!document.fileName || !document.file"
              (click)="previewFile(document.file!)">
              Preview
            </button>

            <button class="delete-button" (click)="deleteDocumentRow(i)">&#10005;</button>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn cancel" (click)="closeDocumentUploadModal()">Cancel</button>
        <button class="btn add" (click)="addDocumentRow()">Add Document</button>
        <button class="btn confirm" (click)="confirmAndUpload()">Upload Documents</button>
      </div>
    </div>
  </div>